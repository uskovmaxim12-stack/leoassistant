<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leo Assistant | –ú–æ–π —É—á–µ–±–Ω—ã–π –ø–æ—Ä—Ç–∞–ª</title>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        /* –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ */
        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0c29, #302b63);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255,255,255,0.1);
            border-top: 4px solid #00ff88;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loadingScreen">
        <div class="loading-spinner"></div>
        <p style="color: white; margin-top: 20px;">–ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∞—à —É—á–µ–±–Ω—ã–π –ø–æ—Ä—Ç–∞–ª...</p>
    </div>
    
    <!-- –ß–∞—Å—Ç–∏—Ü—ã -->
    <div id="dashboard-particles"></div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="dashboard-container" style="display: none;">
        
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <aside class="dashboard-sidebar">
            <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
            <div class="user-profile">
                <div class="user-avatar-large">
                    <i class="fas fa-user-astronaut"></i>
                </div>
                <h2 id="userDisplayName">–ö–æ—Å–º–æ–Ω–∞–≤—Ç</h2>
                <p id="userDisplayClass">7–ë –∫–ª–∞—Å—Å</p>
                
                <!-- –£—Ä–æ–≤–µ–Ω—å -->
                <div class="level-display">
                    <div class="level-circle">
                        <span id="userLevel">1</span>
                    </div>
                    <p>–£—Ä–æ–≤–µ–Ω—å</p>
                </div>
            </div>
            
            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <nav class="dashboard-nav">
                <a href="#dashboard" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span>–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
                <a href="#ai" class="nav-item">
                    <i class="fas fa-robot"></i>
                    <span>AI –ü–æ–º–æ—â–Ω–∏–∫</span>
                    <span class="nav-badge">3</span>
                </a>
                <a href="#tasks" class="nav-item">
                    <i class="fas fa-tasks"></i>
                    <span>–ó–∞–¥–∞–Ω–∏—è</span>
                    <span class="nav-badge">5</span>
                </a>
                <a href="#games" class="nav-item">
                    <i class="fas fa-gamepad"></i>
                    <span>–ò–≥—Ä—ã</span>
                </a>
                <a href="#progress" class="nav-item">
                    <i class="fas fa-chart-line"></i>
                    <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                </a>
                <a href="#class" class="nav-item">
                    <i class="fas fa-users"></i>
                    <span>–ù–∞—à –∫–ª–∞—Å—Å</span>
                </a>
            </nav>
            
            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
            <div class="xp-container">
                <div class="xp-header">
                    <span>–û–ø—ã—Ç</span>
                    <span id="xpText">0/500</span>
                </div>
                <div class="xp-bar">
                    <div class="xp-fill" id="xpProgress"></div>
                </div>
            </div>
            
            <!-- –í—ã—Ö–æ–¥ -->
            <button class="logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                –í—ã–π—Ç–∏
            </button>
        </aside>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="dashboard-main">
            
            <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
            <header class="dashboard-header">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="–ò—Å–∫–∞—Ç—å –≤ Leo Assistant...">
                </div>
                
                <div class="header-right">
                    <!-- –û—á–∫–∏ –ø–æ–ª—ë—Ç–∞ -->
                    <div class="flight-points">
                        <i class="fas fa-rocket"></i>
                        <span id="flightPoints">1,000</span>
                        <span class="points-label">–æ—á–∫–æ–≤</span>
                    </div>
                    
                    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-count">3</span>
                    </button>
                    
                    <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
                    <button class="achievement-btn">
                        <i class="fas fa-trophy"></i>
                        <span id="achievementCount">5</span>
                    </button>
                </div>
            </header>
            
            <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
            <section class="welcome-section">
                <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="welcomeName">–ö–æ—Å–º–æ–Ω–∞–≤—Ç</span>! üöÄ</h1>
                <p>–¢–≤–æ–π AI-–ø–æ–º–æ—â–Ω–∏–∫ Leo –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å —É—á–µ–±–æ–π —Å–µ–≥–æ–¥–Ω—è</p>
            </section>
            
            <!-- –í–∏–¥–∂–µ—Ç—ã -->
            <div class="widgets-grid">
                
                <!-- AI –ü–æ–º–æ—â–Ω–∏–∫ -->
                <div class="widget ai-widget">
                    <div class="widget-header">
                        <h3><i class="fas fa-brain"></i> Leo Assistant</h3>
                        <span class="status online">–û–ù–õ–ê–ô–ù</span>
                    </div>
                    <div class="widget-body">
                        <div class="ai-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <p class="ai-greeting">–ü—Ä–∏–≤–µ—Ç! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å —Å —É—Ä–æ–∫–∞–º–∏?</p>
                        
                        <div class="quick-questions">
                            <button class="quick-question" data-question="–ü–æ–º–æ–≥–∏ —Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π">
                                <i class="fas fa-calculator"></i> –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞
                            </button>
                            <button class="quick-question" data-question="–û–±—ä—è—Å–Ω–∏ —Ñ–∏–∑–∏–∫—É">
                                <i class="fas fa-atom"></i> –§–∏–∑–∏–∫–∞
                            </button>
                            <button class="quick-question" data-question="–ü–æ–º–æ–≥–∏ —Å —Ä—É—Å—Å–∫–∏–º">
                                <i class="fas fa-language"></i> –†—É—Å—Å–∫–∏–π
                            </button>
                        </div>
                        
                        <div class="ai-chat-input">
                            <input type="text" id="aiQuestion" placeholder="–°–ø—Ä–æ—Å–∏ Leo –æ —á—ë–º —É–≥–æ–¥–Ω–æ...">
                            <button id="askAI">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- –í –≤–∏–¥–∂–µ—Ç AI-—á–∞—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç header: -->
<div class="chat-header">
    <div class="ai-avatar">–õ</div>
    <div>
        <h3>AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –õ–µ–æ</h3>
        <div class="ai-status">
            <span class="status-dot"></span>
            <span>–û–Ω–ª–∞–π–Ω ‚Ä¢ –û—Ç–≤–µ—á–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ</span>
        </div>
    </div>
</div>

<!-- –í –∏–≥—Ä–æ–≤–æ–π –∑–æ–Ω–µ –¥–æ–±–∞–≤—å—Ç–µ: -->
<div class="game-stats-grid">
    <div class="game-stat-card" data-stat="level">
        <div class="stat-icon">üìà</div>
        <div class="stat-main">7</div>
        <div class="stat-label">–£—Ä–æ–≤–µ–Ω—å</div>
    </div>
    <div class="game-stat-card" data-stat="points">
        <div class="stat-icon">‚úàÔ∏è</div>
        <div class="stat-main">1245</div>
        <div class="stat-label">–û—á–∫–∏ –ø–æ–ª—ë—Ç–∞</div>
    </div>
    <div class="game-stat-card" data-stat="streak">
        <div class="stat-icon">üî•</div>
        <div class="stat-main">14 –¥–Ω–µ–π</div>
        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
    </div>
</div>

<h4 style="margin-top: 20px;">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</h4>
<div class="achievement-grid">
    <div class="achievement-badge" data-title="–ü–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ" style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.3), rgba(251, 191, 36, 0.3));">üèÜ</div>
    <div class="achievement-badge" data-title="–ù–µ–¥–µ–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(96, 165, 250, 0.3));">üöÄ</div>
    <div class="achievement-badge locked" data-title="5 –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –î–ó">üìö</div>
    <div class="achievement-badge" data-title="10 —Å–æ–æ–±—â–µ–Ω–∏–π –õ–µ–æ" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(52, 211, 153, 0.3));">üí¨</div>
</div>
                
                <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ -->
                <div class="widget schedule-widget">
                    <div class="widget-header">
                        <h3><i class="fas fa-calendar-alt"></i> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
                        <span class="date">–°–µ–≥–æ–¥–Ω—è</span>
                    </div>
                    <div class="widget-body">
                        <div class="schedule-list">
                            <div class="schedule-item">
                                <span class="time">8:30</span>
                                <span class="subject">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</span>
                                <span class="room">201</span>
                            </div>
                            <div class="schedule-item">
                                <span class="time">9:25</span>
                                <span class="subject">–†—É—Å—Å–∫–∏–π —è–∑—ã–∫</span>
                                <span class="room">105</span>
                            </div>
                            <div class="schedule-item current">
                                <span class="time">10:30</span>
                                <span class="subject">–§–∏–∑–∏–∫–∞</span>
                                <span class="room">301</span>
                            </div>
                            <div class="schedule-item">
                                <span class="time">11:25</span>
                                <span class="subject">–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</span>
                                <span class="room">401</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ó–∞–¥–∞–Ω–∏—è -->
                <div class="widget tasks-widget">
                    <div class="widget-header">
                        <h3><i class="fas fa-tasks"></i> –ó–∞–¥–∞–Ω–∏—è</h3>
                        <span class="count">3 –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</span>
                    </div>
                    <div class="widget-body">
                        <div class="tasks-list">
                            <div class="task-item priority-high">
                                <input type="checkbox" id="task1">
                                <label for="task1">
                                    <span class="task-title">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞: —É—Ä–∞–≤–Ω–µ–Ω–∏—è</span>
                                    <span class="task-deadline">–ó–∞–≤—Ç—Ä–∞, 8:30</span>
                                </label>
                            </div>
                            <div class="task-item priority-medium">
                                <input type="checkbox" id="task2">
                                <label for="task2">
                                    <span class="task-title">–†—É—Å—Å–∫–∏–π: —Å–æ—á–∏–Ω–µ–Ω–∏–µ</span>
                                    <span class="task-deadline">–ß–µ—Ç–≤–µ—Ä–≥</span>
                                </label>
                            </div>
                            <div class="task-item priority-low">
                                <input type="checkbox" id="task3">
                                <label for="task3">
                                    <span class="task-title">–§–∏–∑–∏–∫–∞: –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è</span>
                                    <span class="task-deadline">–ü—è—Ç–Ω–∏—Ü–∞</span>
                                </label>
                            </div>
                        </div>
                        <button class="add-task-btn">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ
                        </button>
                    </div>
                </div>
                
                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
                <div class="widget progress-widget">
                    <div class="widget-header">
                        <h3><i class="fas fa-chart-line"></i> –ü—Ä–æ–≥—Ä–µ—Å—Å</h3>
                        <span class="percent">65%</span>
                    </div>
                    <div class="widget-body">
                        <div class="progress-circle">
                            <div class="circle">
                                <div class="mask full">
                                    <div class="fill"></div>
                                </div>
                                <div class="inside-circle">
                                    <span>65%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="subject-progress">
                            <div class="subject">
                                <span>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</span>
                                <div class="subject-bar">
                                    <div class="subject-fill" style="width: 80%"></div>
                                </div>
                                <span>80%</span>
                            </div>
                            <div class="subject">
                                <span>–†—É—Å—Å–∫–∏–π</span>
                                <div class="subject-bar">
                                    <div class="subject-fill" style="width: 60%"></div>
                                </div>
                                <span>60%</span>
                            </div>
                            <div class="subject">
                                <span>–§–∏–∑–∏–∫–∞</span>
                                <div class="subject-bar">
                                    <div class="subject-fill" style="width: 75%"></div>
                                </div>
                                <span>75%</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ò–≥—Ä—ã -->
                <div class="widget games-widget">
                    <div class="widget-header">
                        <h3><i class="fas fa-gamepad"></i> –ò–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞</h3>
                        <span class="available">4 –∏–≥—Ä—ã</span>
                    </div>
                    <div class="widget-body">
                        <div class="games-grid">
                            <div class="game-card">
                                <i class="fas fa-calculator"></i>
                                <h4>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</h4>
                                <button class="play-btn">–ò–≥—Ä–∞—Ç—å</button>
                            </div>
                            <div class="game-card">
                                <i class="fas fa-atom"></i>
                                <h4>–§–∏–∑–∏–∫–∞</h4>
                                <button class="play-btn">–ò–≥—Ä–∞—Ç—å</button>
                            </div>
                            <div class="game-card">
                                <i class="fas fa-language"></i>
                                <h4>–°–ª–æ–≤–∞</h4>
                                <button class="play-btn">–ò–≥—Ä–∞—Ç—å</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –†–µ–π—Ç–∏–Ω–≥ -->
                <div class="widget ranking-widget">
                    <div class="widget-header">
                        <h3><i class="fas fa-trophy"></i> –¢–æ–ø –∫–ª–∞—Å—Å–∞</h3>
                        <span class="update">–û–±–Ω–æ–≤–ª–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è</span>
                    </div>
                    <div class="widget-body">
                        <div class="leaderboard">
                            <div class="leaderboard-item first">
                                <span class="rank">1</span>
                                <span class="name">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</span>
                                <span class="points">8,425</span>
                            </div>
                            <div class="leaderboard-item">
                                <span class="rank">2</span>
                                <span class="name">–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞</span>
                                <span class="points">7,850</span>
                            </div>
                            <div class="leaderboard-item">
                                <span class="rank">3</span>
                                <span class="name">–ê–ª–µ–∫—Å–µ–π –°–∏–¥–æ—Ä–æ–≤</span>
                                <span class="points">7,200</span>
                            </div>
                            <div class="leaderboard-item you">
                                <span class="rank">4</span>
                                <span class="name">–í—ã</span>
                                <span class="points" id="yourPoints">1,000</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –ú–æ—Ç–∏–≤–∞—Ü–∏—è -->
            <section class="motivation-section">
                <div class="daily-challenge">
                    <h3><i class="fas fa-fire"></i> –ó–∞–¥–∞–Ω–∏–µ –¥–Ω—è</h3>
                    <p>–†–µ—à–∏ 10 –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á –∏ –ø–æ–ª—É—á–∏ 50 –æ—á–∫–æ–≤ –ø–æ–ª—ë—Ç–∞!</p>
                    <div class="challenge-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 40%"></div>
                        </div>
                        <span>4/10</span>
                    </div>
                </div>
                
                <div class="streak-counter">
                    <h3><i class="fas fa-calendar-check"></i> –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                    <p>üî• 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥</p>
                    <div class="streak-days">
                        <span class="day active">–ü–Ω</span>
                        <span class="day active">–í—Ç</span>
                        <span class="day active">–°—Ä</span>
                        <span class="day active">–ß—Ç</span>
                        <span class="day active">–ü—Ç</span>
                        <span class="day active">–°–±</span>
                        <span class="day active">–í—Å</span>
                    </div>
                </div>
            </section>
            
            <!-- –§—É—Ç–µ—Ä -->
            <footer class="dashboard-footer">
                <p>Leo Assistant v2.0 ‚Ä¢ –¢–≤–æ–π –ø—É—Ç—å –∫ –∑–Ω–∞–Ω–∏—è–º ‚Ä¢ –°–µ–≥–æ–¥–Ω—è: <span id="currentDate"></span></p>
            </footer>
        </main>
    </div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i>
        <span>–°–æ–æ–±—â–µ–Ω–∏–µ</span>
    </div>
    
    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        // Leo Dashboard - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Leo Dashboard –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
            const userData = JSON.parse(localStorage.getItem('leoUser'));
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
            
            if (!isLoggedIn || !userData) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É');
                window.location.href = 'index.html';
                return;
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü
            particlesJS('dashboard-particles', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: ["#00ff88", "#00ccff", "#9d4edd"] },
                    shape: { type: "circle" },
                    opacity: { value: 0.5, random: true },
                    size: { value: 3, random: true },
                    line_linked: { enable: true, distance: 150, color: "#ffffff", opacity: 0.1, width: 1 },
                    move: { enable: true, speed: 2 }
                },
                interactivity: {
                    events: {
                        onhover: { enable: true, mode: "repulse" },
                        onclick: { enable: true, mode: "push" }
                    }
                }
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            updateUserData(userData);
            
            // –°–∫—Ä—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
                document.querySelector('.dashboard-container').style.display = 'flex';
            }, 1000);
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª
                    const sectionId = this.getAttribute('href').substring(1);
                    showNotification(`–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞: ${this.querySelector('span').textContent}`);
                });
            });
            
            // –í—ã—Ö–æ–¥
            document.getElementById('logoutBtn').addEventListener('click', function() {
                if (confirm('–í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã?')) {
                    localStorage.removeItem('leoUser');
                    localStorage.removeItem('isLoggedIn');
                    window.location.href = 'index.html';
                }
            });
            
            // AI —á–∞—Ç
            document.getElementById('askAI').addEventListener('click', function() {
                askAIQuestion();
            });
            
            document.getElementById('aiQuestion').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') askAIQuestion();
            });
            
            // –ë—ã—Å—Ç—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã
            document.querySelectorAll('.quick-question').forEach(btn => {
                btn.addEventListener('click', function() {
                    const question = this.getAttribute('data-question');
                    document.getElementById('aiQuestion').value = question;
                    askAIQuestion();
                });
            });
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
            document.querySelector('.add-task-btn').addEventListener('click', function() {
                const taskName = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è:');
                if (taskName) {
                    showNotification(`–ó–∞–¥–∞–Ω–∏–µ "${taskName}" –¥–æ–±–∞–≤–ª–µ–Ω–æ!`, 'success');
                }
            });
            
            // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
            document.querySelectorAll('.play-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const game = this.closest('.game-card').querySelector('h4').textContent;
                    showNotification(`–ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É: ${game}`, 'info');
                    // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –ª–æ–≥–∏–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã
                });
            });
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            function updateUserData(user) {
                // –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                document.getElementById('userDisplayName').textContent = user.name || '–£—á–µ–Ω–∏–∫';
                document.getElementById('userDisplayClass').textContent = user.class ? user.class.toUpperCase() + ' –∫–ª–∞—Å—Å' : '7–ë –∫–ª–∞—Å—Å';
                document.getElementById('welcomeName').textContent = user.name ? user.name.split(' ')[0] : '–ö–æ—Å–º–æ–Ω–∞–≤—Ç';
                
                // –£—Ä–æ–≤–µ–Ω—å –∏ XP
                document.getElementById('userLevel').textContent = user.level || 1;
                document.getElementById('xpText').textContent = `${user.xp || 0}/${(user.level || 1) * 500}`;
                document.getElementById('xpProgress').style.width = `${((user.xp || 0) / ((user.level || 1) * 500)) * 100}%`;
                
                // –û—á–∫–∏ –ø–æ–ª—ë—Ç–∞
                document.getElementById('flightPoints').textContent = (user.flightPoints || 0).toLocaleString();
                document.getElementById('yourPoints').textContent = (user.flightPoints || 0).toLocaleString();
                
                // –î–∞—Ç–∞
                document.getElementById('currentDate').textContent = new Date().toLocaleDateString('ru-RU', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            }
            
            // –§—É–Ω–∫—Ü–∏—è AI
            function askAIQuestion() {
                const question = document.getElementById('aiQuestion').value.trim();
                const askBtn = document.getElementById('askAI');
                
                if (!question) {
                    showNotification('–í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –¥–ª—è AI!', 'warning');
                    return;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
                const originalHtml = askBtn.innerHTML;
                askBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                askBtn.disabled = true;
                
                // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ AI
                setTimeout(() => {
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç—å
                    let answer;
                    if (typeof LeoAI !== 'undefined') {
                        answer = LeoAI.getResponse(question);
                    } else {
                        // –ü—Ä–æ—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã, –µ—Å–ª–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
                        const responses = [
                            '–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –µ–≥–æ –≤–º–µ—Å—Ç–µ.',
                            '–≠—Ç–æ –≤–∞–∂–Ω–∞—è —Ç–µ–º–∞. –†–µ–∫–æ–º–µ–Ω–¥—É—é –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —É—á–µ–±–Ω–∏–∫—É.',
                            '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ —á–∞—Å—Ç–∏ –∏ —Ä–µ—à–∞—Ç—å –ø–æ —à–∞–≥–∞–º.',
                            '–£ –º–µ–Ω—è –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –Ω–æ —è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á—É —ç—Ç–æ!'
                        ];
                        answer = responses[Math.floor(Math.random() * responses.length)];
                    }
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç
                    showNotification(`AI: ${answer.substring(0, 50)}...`, 'success');
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –æ—á–∫–∏ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI
                    addFlightPoints(25);
                    
                    // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ
                    document.getElementById('aiQuestion').value = '';
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                    askBtn.innerHTML = originalHtml;
                    askBtn.disabled = false;
                    
                }, 1000 + Math.random() * 1000);
            }
            
            // –î–æ–±–∞–≤–∏—Ç—å –æ—á–∫–∏ –ø–æ–ª—ë—Ç–∞
            function addFlightPoints(amount) {
                let userData = JSON.parse(localStorage.getItem('leoUser'));
                if (!userData) return;
                
                userData.flightPoints = (userData.flightPoints || 0) + amount;
                localStorage.setItem('leoUser', JSON.stringify(userData));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                updateUserData(userData);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è
                const pointsElement = document.getElementById('flightPoints');
                pointsElement.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    pointsElement.style.transform = 'scale(1)';
                }, 300);
            }
            
            // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            window.showNotification = function(message, type = 'info') {
                const notification = document.getElementById('notification');
                const icon = notification.querySelector('i');
                const text = notification.querySelector('span');
                
                switch(type) {
                    case 'success':
                        icon.className = 'fas fa-check-circle';
                        notification.style.background = 'linear-gradient(135deg, #00ff88, #00ccff)';
                        break;
                    case 'error':
                        icon.className = 'fas fa-exclamation-circle';
                        notification.style.background = 'linear-gradient(135deg, #ff416c, #ff4b2b)';
                        break;
                    case 'warning':
                        icon.className = 'fas fa-exclamation-triangle';
                        notification.style.background = 'linear-gradient(135deg, #ff9966, #ff5e62)';
                        break;
                    default:
                        icon.className = 'fas fa-info-circle';
                        notification.style.background = 'linear-gradient(135deg, #667eea, #764ba2)';
                }
                
                text.textContent = message;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            };
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('ru-RU', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≥–¥–µ-–Ω–∏–±—É–¥—å
                // document.getElementById('currentTime').textContent = timeString;
            }
            
            setInterval(updateTime, 60000);
            updateTime();
            
            console.log('‚úÖ Leo Dashboard –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!');
        });
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
        function showLoading() {
            document.getElementById('loadingScreen').style.display = 'flex';
        }
        
        function hideLoading() {
            document.getElementById('loadingScreen').style.display = 'none';
        }
    </script>
</body>
</html>
